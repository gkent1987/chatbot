<html>
<head>
	<apex:slds /> 
	<meta charset="utf-8" />
    	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<script src="https://componentdemo-dev-ed.lightning.force.com/lightning/lightning.out.js"></script>
	
	<script>          
	window.addEventListener("message", receiveMessage, false);
	function receiveMessage(event) {
	    var payload = event.data;
	    if(payload && payload.type === "chasitor.sendMessage") {
	        embedded_svc.postMessage("chasitor.sendMessage", payload.message);
	    }
	};
	</script>
	
</head>
<body> 
	   <style type='text/css'>
		.embeddedServiceHelpButton .helpButton .uiButton {
			background-color: #ffd200 !important; 
			font-family: Arial,Helvetica,sans-serif !important; 
		}
		.embeddedServiceHelpButton .helpButton .uiButton {
			color: #080808 !important; 
			font-weight: 790 !important;
			background: #ffd300 !important;
			 margin-top: 15px !important;
		}
		.embeddedServiceHelpButton .helpButton .uiButton:focus {
			outline: 1px solid #328ED4;
		}
		.embeddedServiceHelpButton .embeddedServiceIcon {
			margin-top: -10px !important;
		}
	</style>

	<div class="cmp-container__nav--language-dropdown">

        <div class="cmp-container__nav--region">
            <h4>North America</h4>
            <ul class="cmp-container__nav--language-option">

                <li>
                    <a href="/us/en/index.html" title="United States" data-language="United States - English">
                        United States - English
                    </a>
                </li>

            </ul>
        </div>

        <div class="cmp-container__nav--region">
            <h4>Latin America</h4>
            <ul class="cmp-container__nav--language-option">

                <li>
                    <a href="/br/pt/index.html" title="Brasil" data-language="Brasil - Português">
                        Brasil - Português
                    </a>
                </li>

                <li>
                    <a href="/la/es/index.html" title="America Latina" data-language="America Latina - Español">
                        America Latina - Español
                    </a>
                </li>

            </ul>
        </div>

        <div class="cmp-container__nav--region">
            <h4>Asia</h4>
            <ul class="cmp-container__nav--language-option">

                <li>
                    <a href="/ap/en/index.html" title="Asia Pacific" data-language="Asia Pacific - English">
                        Asia Pacific - English
                    </a>
                </li>

                <li>
                    <a href="/cn/zh/index.html" title="中国" data-language="中国 - 普通话">
                        中国 - 普通话
                    </a>
                </li>

                <li>
                    <a href="/jp/ja/index.html" title="日本" data-language="日本 - 日本語">
                        日本 - 日本語
                    </a>
                </li>

                <li>
                    <a href="/kr/ko/index.html" title="한국" data-language="한국 - 한국어">
                        한국 - 한국어
                    </a>
                </li>

            </ul>
        </div>

        <div class="cmp-container__nav--region">
            <h4>Europe &amp; Middle East</h4>
            <ul class="cmp-container__nav--language-option">

                <li>
                    <a href="/de/de/chat.html" title="Deutschland" data-language="Deutschland - Deutsch">
                        Deutschland - Deutsch
                    </a>
                </li>

                <li>
                    <a href="/es/es/chat.html" title="España" data-language="España - Español">
                        España - Español
                    </a>
                </li>

                <li>
                    <a href="/fr/fr/chat.html" title="France" data-language="France - Français">
                        France - Français
                    </a>
                </li>

                <li>
                    <a href="/it/it/chat.html" title="Italia" data-language="Italia - Italiano">
                        Italia - Italiano
                    </a>
                </li>

                <li>
                    <a href="/pl/pl/chat.html" title="Polska" data-language="Polska - Polski">
                        Polska - Polski
                    </a>
                </li>

                <li>
                    <a href="/ru/ru/chat.html" title="Россия" data-language="Россия - Pусский">
                        Россия - Pусский
                    </a>
                </li>

                <li>
                    <a href="/tr/tr/index.html" title="Türkiye" data-language="Türkiye - Türkçe">
                        Türkiye - Türkçe
                    </a>
                </li>

                <li>
                    <a href="/gb/en/chat.html" title="United Kingdom" data-language="United Kingdom - English">
                        United Kingdom - English
                    </a>
                </li>

            </ul>
        </div>
    </div>
	
	<script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
	<script type='text/javascript'>
		var initESW = function(gslbBaseURL) {
			embedded_svc.settings.displayHelpButton = true; //Or false


		    var urlParams = new URLSearchParams(window.location.search);
		    var languageParam = urlParams.get('lang');
			
		    //console.log("window.location.search *** :", window.location.search);
		   // console.log("urlParams *** :", urlParams);
		    //console.log("Language Parameter *** :", languageParam);
			
			
			// Define the language configuration object
		        var languageConfig = {
		            "en": {
		                "Chat with Sales": {
		                    "text": "Chat with us"
		                }
		            },
		            "zh-Hans": {
		                "Chat with Sales": {
		                    "text": "与我们聊天"
		                }
		            },
		            "pt": {
		                "Chat with Sales": {
		                    "text": "Fale conosco"
		                }
		            },
		            "es-la": {
		                "Chat with Sales": {
		                    "text": "Hable con nosotros"
		                }
		            },
		            "es-es": {
		                "Chat with Sales": {
		                    "text": "Chatee con nosotros"
		                }
		            },
		            "ja": {
		                "Chat with Sales": {
		                    "text": "チャットサービス"
		                }
		            },
		            "ko": {
		                "Chat with Sales": {
		                    "text": "영업팀과 채팅"
		                }
		            },
		            "de": {
		                "Chat with Sales": {
		                    "text": "Chatten Sie mit uns"
		                }
		            },
		            "fr": {
		                "Chat with Sales": {
		                    "text": "Tchatter avec nous"
		                }
		            },
		            "it": {
		                "Chat with Sales": {
		                    "text": "Chatta con noi"
		                }
		            },
		            "pl": {
		                "Chat with Sales": {
		                    "text": "Czatuj z nami "
		                }
		            },
		            "ru": {
		                "Chat with Sales": {
		                    "text": "Свяжитесь с нами в чате"
		                }
		            },
		            "tr": {
		                "Chat with Sales": {
		                    "text": "Bizimle sohbet edin"
		                }
		            }
		        };
		
		        // Set the language from the parameter or use 'de' as the default language
		        var selectedLanguage = languageParam || 'ja'; // Default to 'de' if no language parameter is found
			embedded_svc.settings.language = languageParam || 'ja'; // Default to 'en' if no language parameter is found

		        // Get the defaultMinimizedText value based on the selected language
		        embedded_svc.settings.defaultMinimizedText = languageConfig[selectedLanguage]["Chat with Sales"]["text"];

		       //embedded_svc.settings.defaultMinimizedText = 'Chat with us'; //(Defaults to Chat with an Expert)

			//embedded_svc.settings.disabledMinimizedText = '...'; //(Defaults to Agent Offline)
	
			//embedded_svc.settings.loadingText = ''; //(Defaults to Loading)
			//embedded_svc.settings.storageDomain = 'yourdomain.com'; //(Sets the domain for your deployment so that visitors can navigate subdomains during a chat session)
	
			// Settings for Chat
			//embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
				// Dynamically changes the button ID based on what the visitor enters in the pre-chat form.
				// Returns a valid button ID.
			//};
			//embedded_svc.settings.prepopulatedPrechatFields = {}; //Sets the auto-population of pre-chat form fields
			//embedded_svc.settings.fallbackRouting = []; //An array of button IDs, user IDs, or userId_buttonId
			//embedded_svc.settings.offlineSupportMinimizedText = '...'; //(Defaults to Contact Us)
	
			embedded_svc.settings.enabledFeatures = ['LiveAgent'];
			embedded_svc.settings.entryFeature = 'LiveAgent';
	
			embedded_svc.init(
				'https://zebra--ebots.sandbox.my.salesforce.com',
				'https://zebra--ebots.sandbox.my.site.com/ebots',
				gslbBaseURL,
				'00D7h0000004jTO',
				'ZCom_Sales_Agents',
				{
					baseLiveAgentContentURL: 'https://c.la3-c1cs-ia5.salesforceliveagent.com/content',
					deploymentId: '5727h0000008REc',
					buttonId: '5737h0000008R4w',
					baseLiveAgentURL: 'https://d.la3-c1cs-ia5.salesforceliveagent.com/chat',
					eswLiveAgentDevName: 'ZCom_Sales_Agents',
					isOfflineSupportEnabled: true
				}
			);
		};
	
		if (!window.embedded_svc) {
			var s = document.createElement('script');
			s.setAttribute('src', 'https://zebra--ebots.sandbox.my.salesforce.com/embeddedservice/5.0/esw.min.js');
			s.onload = function() {
				initESW(null);
			};
			document.body.appendChild(s);
		} else {
			initESW('https://service.force.com');
		}
	</script>
</body>
</html>
